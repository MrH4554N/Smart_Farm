{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"yI]DAp_g(j4hYTj;]97,\">chuỗi</variable><variable id=\"l4|0GRQuSvWWP(C.2`si\">thông tin</variable><variable id=\"C3Ke;|1/AA}+xf4Psw,W\">NODE_ID</variable><variable id=\",XL0mYBdpM]-#9CltML;\">cmd</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"87\" y=\"37\"><statement name=\"ONSTART\"><block type=\"yolobit_basic_show_image\" id=\"iw.:,0w~*8e#|Y06FLW|\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"qt2Rb|t*Rp+R%0/tPxB5\"><field name=\"00\">#ffff00</field><field name=\"01\">#ffff00</field><field name=\"02\">#ffff00</field><field name=\"03\">#ffff00</field><field name=\"04\">#ffff00</field><field name=\"10\">#ffff00</field><field name=\"11\">#000000</field><field name=\"12\">#000000</field><field name=\"13\">#000000</field><field name=\"14\">#ffff00</field><field name=\"20\">#ffff00</field><field name=\"21\">#000000</field><field name=\"22\">#000000</field><field name=\"23\">#000000</field><field name=\"24\">#ffff00</field><field name=\"30\">#ffff00</field><field name=\"31\">#000000</field><field name=\"32\">#000000</field><field name=\"33\">#000000</field><field name=\"34\">#ffff00</field><field name=\"40\">#ffff00</field><field name=\"41\">#ffff00</field><field name=\"42\">#ffff00</field><field name=\"43\">#ffff00</field><field name=\"44\">#ffff00</field></block></value><next><block type=\"yolobit_mqtt_connect_wifi\" id=\"6K!r(.LilY0`AT,qM;8_\"><value name=\"WIFI\"><shadow type=\"text\" id=\"WqY)Ur|.U)7-_t,|wEPG\"><field name=\"TEXT\">ACLAB</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"_DoDt/22t?0hOrh#VW_M\"><field name=\"TEXT\">ACLAB2023</field></shadow></value><next><block type=\"yolobit_mqtt_connect_default_servers\" id=\"UWtNwLwZCjjtP#5ePhIf\"><field name=\"SERVER\">io.adafruit.com</field><value name=\"USERNAME\"><shadow type=\"text\" id=\"F-BzSdww|;[_e@GKlhyA\"><field name=\"TEXT\">H4554N</field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\"]POVy`dZ~ksg#!;+}(J,\"><field name=\"TEXT\">aio_Jeeh73BQOdVIau5ZHmbgNtaUxytG</field></shadow></value><next><block type=\"variables_set\" id=\"SOc^gyUnfK_^6XXt`.D,\"><field name=\"VAR\" id=\"C3Ke;|1/AA}+xf4Psw,W\">NODE_ID</field><value name=\"VALUE\"><block type=\"text\" id=\"P|OqjqzkFTz[HDzBsnH(\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"FG12a}PamPJ$LqNTfq+W\"><field name=\"VAR\" id=\",XL0mYBdpM]-#9CltML;\">cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"lkOpAiXrO5f)|[=9/C%G\"><field name=\"TEXT\"></field></block></value><next><block type=\"plantbit2_dual_usb_pump\" id=\"SbDNN+8Kn1C}g.JJ|hbU\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"A7?|NiT|An+zF9Tf,05g\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\",s{k3}g)(10KK:[-s*BE\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"+h;W3q0MOZ0WFXHZdmAz\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"@c2UwFw+,zH]tSO}OBlH\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"=pk?ykTsA`?grknAF^!3\"><field name=\"00\">#ffff00</field><field name=\"01\">#ffff00</field><field name=\"02\">#ffff00</field><field name=\"03\">#ffff00</field><field name=\"04\">#ffff00</field><field name=\"10\">#ffff00</field><field name=\"11\">#00ff00</field><field name=\"12\">#00ff00</field><field name=\"13\">#00ff00</field><field name=\"14\">#ffff00</field><field name=\"20\">#ffff00</field><field name=\"21\">#00ff00</field><field name=\"22\">#00ff00</field><field name=\"23\">#00ff00</field><field name=\"24\">#ffff00</field><field name=\"30\">#ffff00</field><field name=\"31\">#00ff00</field><field name=\"32\">#00ff00</field><field name=\"33\">#00ff00</field><field name=\"34\">#ffff00</field><field name=\"40\">#ffff00</field><field name=\"41\">#ffff00</field><field name=\"42\">#ffff00</field><field name=\"43\">#ffff00</field><field name=\"44\">#ffff00</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"du4Vw^Aq,-`Jm9#HB^#T\"><next><block type=\"yolobit_basic_sleep\" id=\"]pM{MV6?s|aL`#ivDHgi\"><value name=\"duration\"><shadow type=\"math_number\" id=\"KSodGlgH%$gDAV@v1i/!\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"4P%*5qVqc]%k!?;dAzK)\" x=\"963\" y=\"163\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"8*A!^l9og95A^{8(BqCu\"><field name=\"NUM\">0.5</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"jb2DkS8KUWH5jN7bh@?D\"><field name=\"message\" id=\"l4|0GRQuSvWWP(C.2`si\">thông tin</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"`.MCeD;lB,hB)]+yUY:W\"><field name=\"TEXT\">pump</field></shadow></value><statement name=\"ACTION\"><block type=\"ble_send_string\" id=\"*g,}MBV(#r#PjNn,?,1+\"><value name=\"x\"><shadow type=\"text\" id=\"Vu43Hj+S@@BWF@P%@Ecj\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"Q!7pGpa+I:@gln8N_Ofo\"><field name=\"VAR\" id=\"l4|0GRQuSvWWP(C.2`si\">thông tin</field></block></value></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"!JmPlCOd]ZY#[_kii0=$\"><field name=\"message\" id=\"l4|0GRQuSvWWP(C.2`si\">thông tin</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"+;CoQX-dwoHU|,`ps?X:\"><field name=\"TEXT\">blink-led</field></shadow></value><statement name=\"ACTION\"><block type=\"ble_send_string\" id=\"a$ganVLwk^$6@`5{Bw(f\"><value name=\"x\"><shadow type=\"text\" id=\"Vu43Hj+S@@BWF@P%@Ecj\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"T8+yh8_..-7l:yDZf]sS\"><field name=\"VAR\" id=\"l4|0GRQuSvWWP(C.2`si\">thông tin</field></block></value></block></statement></block></next></block></statement></block><block type=\"ble_on_receive_string\" id=\"m2r*8n)T8Ssd_ct*5yFo\" x=\"438\" y=\"638\"><field name=\"message\" id=\"yI]DAp_g(j4hYTj;]97,\">chuỗi</field><statement name=\"ACTION\"><block type=\"xbot_serial_write_string\" id=\"PhrXO)3$4T:9FH+_TEvD\"><value name=\"string\"><shadow type=\"text\" id=\"`JV{8GtmRlD_!6KYk,B7\"><field name=\"TEXT\"> </field></shadow><block type=\"variables_get\" id=\"YF[}-Q,h1I_0(3~?76M$\"><field name=\"VAR\" id=\"yI]DAp_g(j4hYTj;]97,\">chuỗi</field></block></value></block></statement></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom mqtt import *\nfrom event_manager import *\nimport time\nfrom ble import *\n\nevent_manager.reset()\n\ndef on_mqtt_message_receive_callback__pump_(th_C3_B4ng_tin):\n  global NODE_ID, cmd, chu_E1_BB_97i\n  ble.send(th_C3_B4ng_tin)\n\ndef on_mqtt_message_receive_callback__blink_led_(th_C3_B4ng_tin):\n  global NODE_ID, cmd, chu_E1_BB_97i\n  ble.send(th_C3_B4ng_tin)\n\ndef on_event_timer_callback_P_q_V_q_c():\n  global th_C3_B4ng_tin, NODE_ID, cmd, chu_E1_BB_97i\n  mqtt.on_receive_message('pump', on_mqtt_message_receive_callback__pump_)\n  mqtt.on_receive_message('blink-led', on_mqtt_message_receive_callback__blink_led_)\n\nevent_manager.add_timer_event(500, on_event_timer_callback_P_q_V_q_c)\n\ndef on_ble_message_string_receive_callback(chu_E1_BB_97i):\n  global th_C3_B4ng_tin, NODE_ID, cmd\n  print(chu_E1_BB_97i, end =' ')\n\nble.on_receive_msg(\"string\", on_ble_message_string_receive_callback)\n\ndef on_ble_message_string_receive_callback(chu_E1_BB_97i):\n  global th_C3_B4ng_tin, NODE_ID, cmd\n  print(chu_E1_BB_97i, end =' ')\n\nble.on_receive_msg(\"string\", on_ble_message_string_receive_callback)\n\nif True:\n  display.show(Image(\"33333:30003:30003:30003:33333\"))\n  mqtt.connect_wifi('ACLAB', 'ACLAB2023')\n  mqtt.connect_broker(server='io.adafruit.com', port=1883, username='H4554N', password='aio_Jeeh73BQOdVIau5ZHmbgNtaUxytG')\n  NODE_ID = '0'\n  cmd = ''\n  pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin4.servo_write(0)\n  display.show(Image(\"33333:34443:34443:34443:33333\"))\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(1000)\n  time.sleep_ms(10)\n","name":"CentralNode","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_plantbit_v2","src":"https://github.com/AITT-VN/yolobit_plantbit_v2","name":"PLANT:BIT V2","description":"Mục mở rộng dành cho bộ kit trồng cây thông minh Plant:Bit"}],"device":"yolobit"}