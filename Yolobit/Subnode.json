{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"5Zub}rDduvqo8_SMJ2h3\">chuỗi</variable><variable id=\"StogoKXu@i}Nx8^#|o)h\">Serial ID</variable><variable id=\"W1;5yanhj8blrIQ4w_}?\">Serial Device</variable><variable id=\"rIm.hK4MNlqr2C0gv=WQ\">Serial Data</variable><variable id=\"5PcV(L~2B||MWi*8f%?w\">cmd</variable><variable id=\"/P~JWt`KQ:^40]Fk;O8s\">SurfaceMoist</variable><variable id=\"Wy)KQ(~*g]jNYg/Y99mv\">Light</variable><variable id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</variable><variable id=\"p[906}ba==1w2pU=C^kl\">Central Node</variable></variables><block type=\"ble_on_receive_string\" id=\"jO#B1=34p1n#ytc(DW:X\" x=\"387\" y=\"-62\"><field name=\"message\" id=\"5Zub}rDduvqo8_SMJ2h3\">chuỗi</field><statement name=\"ACTION\"><block type=\"variables_set\" id=\";Dvg4{`bU6|H4AEr8;tm\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"%22ex^%mhGv*,S6[dibv\"><field name=\"VAR\" id=\"5Zub}rDduvqo8_SMJ2h3\">chuỗi</field></block></value></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-163\" y=\"63\"><statement name=\"ONSTART\"><block type=\"yolobit_basic_show_image\" id=\"!,Z52dlN1)vo]+jh4Jvl\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"t%TWYnM+`!T+78vY{(O*\"><field name=\"00\">#ffff00</field><field name=\"01\">#ffff00</field><field name=\"02\">#ffff00</field><field name=\"03\">#ffff00</field><field name=\"04\">#ffff00</field><field name=\"10\">#ffff00</field><field name=\"11\">#000000</field><field name=\"12\">#000000</field><field name=\"13\">#000000</field><field name=\"14\">#ffff00</field><field name=\"20\">#ffff00</field><field name=\"21\">#000000</field><field name=\"22\">#000000</field><field name=\"23\">#000000</field><field name=\"24\">#ffff00</field><field name=\"30\">#ffff00</field><field name=\"31\">#000000</field><field name=\"32\">#000000</field><field name=\"33\">#000000</field><field name=\"34\">#ffff00</field><field name=\"40\">#ffff00</field><field name=\"41\">#ffff00</field><field name=\"42\">#ffff00</field><field name=\"43\">#ffff00</field><field name=\"44\">#ffff00</field></block></value><next><block type=\"yolobit_mqtt_connect_wifi\" id=\"i{/Y^Q1-%I/qnn`Rl!5+\"><value name=\"WIFI\"><shadow type=\"text\" id=\"15oAV%@s%w42sTMSV+W1\"><field name=\"TEXT\">ACLAB</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"`/nnHCXxT~7$t~krnF@;\"><field name=\"TEXT\">ACLAB2023</field></shadow></value><next><block type=\"variables_set\" id=\"m@.YJVx/#^x7Dv0SWGM]\"><field name=\"VAR\" id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</field><value name=\"VALUE\"><block type=\"text\" id=\"Mv:v5ErT;]F4Tf7HLg2u\"><field name=\"TEXT\">A</field></block></value><next><block type=\"variables_set\" id=\"ka02d2Xwl8zC}I7wijV?\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"SG:hxPPMq$J7*`Rw3rge\"><field name=\"TEXT\"></field></block></value><next><block type=\"variables_set\" id=\"CwgZ|DKTtoy}*6kr}rg@\"><field name=\"VAR\" id=\"p[906}ba==1w2pU=C^kl\">Central Node</field><value name=\"VALUE\"><block type=\"text\" id=\"@leo3i7Cc3e.h}h+y=Dx\"><field name=\"TEXT\">ohstem-yolobit-50ac</field></block></value><next><block type=\"controls_whileUntil\" id=\"ar~XHD.peu40t.0`xl^l\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"ble_is_connected\" id=\"}|4?zK]:6t7PT]{RJSis\"></block></value><statement name=\"DO\"><block type=\"ble_connect\" id=\"%BCvP+w(ffBGICD9r2b~\"><value name=\"NAME\"><shadow type=\"text\" id=\"E/PCeGcLB!eb;L03)?(A\"><field name=\"TEXT\">ohstem-yolobit-1234</field></shadow><block type=\"variables_get\" id=\")Lj8lx}2N|v@(OLCl]1G\"><field name=\"VAR\" id=\"p[906}ba==1w2pU=C^kl\">Central Node</field></block></value></block></statement><next><block type=\"yolobit_basic_show_image\" id=\"%VMS6F?P7a5JtD;eWmB6\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"+GT,t{}PI-TuUMNX~o!B\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#000000</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#00ff00</field><field name=\"12\">#00ff00</field><field name=\"13\">#00ff00</field><field name=\"14\">#000000</field><field name=\"20\">#000000</field><field name=\"21\">#00ff00</field><field name=\"22\">#00ff00</field><field name=\"23\">#00ff00</field><field name=\"24\">#000000</field><field name=\"30\">#000000</field><field name=\"31\">#00ff00</field><field name=\"32\">#00ff00</field><field name=\"33\">#00ff00</field><field name=\"34\">#000000</field><field name=\"40\">#000000</field><field name=\"41\">#000000</field><field name=\"42\">#000000</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"An!EJ@0$CrC[xb-Wry/^\"><next><block type=\"yolobit_basic_sleep\" id=\"Zp;lp]fF+4*bwOBl+E_H\"><value name=\"duration\"><shadow type=\"math_number\" id=\"?`Avo{z}XjE[ot3wg^cZ\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"QbLdN(i:DL67/~E-a#Mv\" x=\"388\" y=\"62\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"`8#VMQApeIi{Py(A~6VT\"><field name=\"NUM\">0.1</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"fUUi7VidX-ZC,0e~3!#p\"><mutation elseif=\"3\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"CQ+tQpc4@_QYzLiu(ds~\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"^GQMVZHZ]z3`qG=(pZue\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"EC:9+8MGHiR9wNLB|z6Z\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_dual_usb\" id=\"B@Cb$a57f6{M?3Z!t=P3\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"(_SXqqz;dD8#T_/;W](e\"><field name=\"NUM\">0</field></shadow></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"WXS)N:2vXT?7Lf=3;4zn\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"b_T5|{=i]_zfQ{J)|}GD\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"LG.vS(Q{BMdfJ*=6|Lvb\"><field name=\"TEXT\">2</field></block></value></block></value><statement name=\"DO1\"><block type=\"aiot_dual_usb\" id=\"~vnHEjl$czS#)xZrJsvk\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"nz%g^qjhA`$t99P#s[O+\"><field name=\"NUM\">70</field></shadow></value></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"ct`9I|egWl5+`5Ll@1f/\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Ge]8vECti?,DI?(gT{;M\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"twWLfnOFwfrx[mipShu{\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO2\"><block type=\"yolobit_pin_servo_write_angle\" id=\".Y(*Kw^o$bbN?a,6/0s/\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"!*2=!O^L)4[IA_O)oSeW\"><field name=\"NUM\">90</field></shadow></value></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"$rk3NYF/yp;`?%Jjr3c+\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"lH.y*.)=Dk%P?:JkZLob\"><field name=\"VAR\" id=\"5PcV(L~2B||MWi*8f%?w\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"T45nvZ@LJEtxA3pIoYrj\"><field name=\"TEXT\">4</field></block></value></block></value><statement name=\"DO3\"><block type=\"yolobit_pin_servo_write_angle\" id=\"|ybsBx`W5r`fZ^v7h9KY\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"qZyJT7{lLamX(}g.wgq`\"><field name=\"NUM\">10</field></shadow></value></block></statement></block></statement></block><block type=\"yolobit_events_timer\" id=\"jL}}o8!$JXNX?c}X^tOG\" x=\"1288\" y=\"63\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\",XtD-Jw]yUJ5_q|y(1wS\"><field name=\"NUM\">10</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"Y{!=M1:sv1RW,gGYIFMI\"><field name=\"VAR\" id=\"/P~JWt`KQ:^40]Fk;O8s\">SurfaceMoist</field><value name=\"VALUE\"><block type=\"aiot_soil_sensor\" id=\"7|?h1x(P!a[*0JO#gMXs\"><field name=\"NAME\">pin2</field></block></value><next><block type=\"variables_set\" id=\"d|R)f@iUNB~0eUR~n=;m\"><field name=\"VAR\" id=\"Wy)KQ(~*g]jNYg/Y99mv\">Light</field><value name=\"VALUE\"><block type=\"aiot_light_sensor\" id=\"`i$?pJrR`Z(h^`GVyA}8\"><field name=\"NAME\">pin1</field></block></value><next><block type=\"controls_if\" id=\"upJ0W|LZ-hAhUf5[kr%~\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"~e()2vdgi06GI+(p?HqQ\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"I^-S1gucF;d7ds69_c-$\"><field name=\"VAR\" id=\"/P~JWt`KQ:^40]Fk;O8s\">SurfaceMoist</field></block></value><value name=\"B\"><block type=\"text\" id=\"%9MA-*_Hu!mx,4+h5V?i\"><field name=\"TEXT\">50</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_dual_usb\" id=\"N5U%Ohibu^e4G0ax*h_0\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"CKI8%,BEYT:c0==jBti$\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\";glDrrYQ@UIxg*{W22Ak\"><value name=\"duration\"><shadow type=\"math_number\" id=\"tF()[s(g=U040jIJBhhr\"><field name=\"NUM\">60000</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\"H5$[@LF1yQCOe7ZCE(MS\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"/Gfq*1[wMg4a0aio?bu9\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"j_ig4^vgb;3,lvSG_:A/\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"Bz,SKPp#]`$cD!{O!:Kj\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"`SpD%z%UTZ)ffngg5VZ%\"><field name=\"VAR\" id=\"Wy)KQ(~*g]jNYg/Y99mv\">Light</field></block></value><value name=\"B\"><block type=\"text\" id=\"yGJg_qviuyI!Xsc:.B72\"><field name=\"TEXT\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_pin_servo_write_angle\" id=\"[opIyJKH6|5(r8$RS^t)\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"D=!b4eGLa7!a2~$)X.=6\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\",*]O!/D@pR^6u2RJlpzY\"><value name=\"duration\"><shadow type=\"math_number\" id=\".L7XpupyZNA.-@8r)-)S\"><field name=\"NUM\">60000</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"$3+OKkfn]]8~ZuCM9O_/\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\",oTC7_1q`/`W*}m5gw%e\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"ble_on_disconnected\" id=\"M#qL,,[tKLo62yipL[^s\" x=\"-587\" y=\"337\"><statement name=\"ACTION\"><block type=\"yolobit_basic_show_image\" id=\")P]i0E0w1NJB7aP7dDf-\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"$o?^[=5Qx?tyEjnhb9E#\"><field name=\"00\">#ff0000</field><field name=\"01\">#ff0000</field><field name=\"02\">#ff0000</field><field name=\"03\">#ff0000</field><field name=\"04\">#ff0000</field><field name=\"10\">#ff0000</field><field name=\"11\">#000000</field><field name=\"12\">#000000</field><field name=\"13\">#000000</field><field name=\"14\">#ff0000</field><field name=\"20\">#ff0000</field><field name=\"21\">#000000</field><field name=\"22\">#000000</field><field name=\"23\">#000000</field><field name=\"24\">#ff0000</field><field name=\"30\">#ff0000</field><field name=\"31\">#000000</field><field name=\"32\">#000000</field><field name=\"33\">#000000</field><field name=\"34\">#ff0000</field><field name=\"40\">#ff0000</field><field name=\"41\">#ff0000</field><field name=\"42\">#ff0000</field><field name=\"43\">#ff0000</field><field name=\"44\">#ff0000</field></block></value><next><block type=\"controls_whileUntil\" id=\"*w9|li7G:4Uvv|I:%]p6\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"ble_is_connected\" id=\"u0QFiX_%uX}Vd5klc)cR\"></block></value><statement name=\"DO\"><block type=\"ble_connect\" id=\"Hg@#0//UqVbU~63{yAGS\"><value name=\"NAME\"><shadow type=\"text\" id=\"E/PCeGcLB!eb;L03)?(A\"><field name=\"TEXT\">ohstem-yolobit-1234</field></shadow><block type=\"variables_get\" id=\"Q!eHDU77^@f@F}@{(!N}\"><field name=\"VAR\" id=\"p[906}ba==1w2pU=C^kl\">Central Node</field></block></value></block></statement><next><block type=\"aiot_dual_usb\" id=\"=L]_SNgmifg:O,lCdee+\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"KserMc6evKiZ@D/r2-N!\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"V(.UmHsHkbKw!PY_Bz%[\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"D{X8NRMdRf]LU3X~cCp;\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"[$l-hawYhZ-9xhkKvN{$\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"E={HYK/$I9mA(vn#^5T-\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#000000</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#00ff00</field><field name=\"12\">#00ff00</field><field name=\"13\">#00ff00</field><field name=\"14\">#000000</field><field name=\"20\">#000000</field><field name=\"21\">#00ff00</field><field name=\"22\">#00ff00</field><field name=\"23\">#00ff00</field><field name=\"24\">#000000</field><field name=\"30\">#000000</field><field name=\"31\">#00ff00</field><field name=\"32\">#00ff00</field><field name=\"33\">#00ff00</field><field name=\"34\">#000000</field><field name=\"40\">#000000</field><field name=\"41\">#000000</field><field name=\"42\">#000000</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"rLKcXr::h4_2T(+6gduq\" x=\"388\" y=\"462\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"rA^?~KJBf.W4@b}_Wri~\"><field name=\"NUM\">30</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_lcd1602_display\" id=\"dlaZsqOHE~o_YXTjpc]@\"><value name=\"string\"><shadow type=\"text\" id=\"7=c#znWGW|{7Xm9KEb.}\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"GZ7K`G$AdY,pIY5+|%QE\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"|[|O){`7oyrMJ8Tyz(I2\"><field name=\"TEXT\">C</field></block></value><value name=\"ADD1\"><block type=\"plantbit2_dht_read\" id=\"15h*B{ia/[!CKE]xXPh]\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"-d#,j1SNV*Ih@5OXUD8g\"><field name=\"TEXT\">A%</field></block></value><value name=\"ADD3\"><block type=\"plantbit2_dht_read\" id=\"s/2vf)?R-gV.T97W,t._\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"PA^S9eOMT{^/O^8~BBZG\"><field name=\"TEXT\">S%</field></block></value><value name=\"ADD5\"><block type=\"aiot_soil_sensor\" id=\"HJ84.NF3nskAlV4N8}@s\"><field name=\"NAME\">pin2</field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"fJ?]_`XMY!)Gxsldn^gd\"><field name=\"TEXT\">L</field></block></value><value name=\"ADD7\"><block type=\"aiot_light_sensor\" id=\"aG$5{rMbh3!V7sD7iKZA\"><field name=\"NAME\">pin1</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"9IDKzlsd6:#/rcQ0{hig\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"3WHRKUdDw8DWea-=,~cX\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"oP.{Wq!3T}^*h3hUfV7X\"><mutation name=\"Gửi data qua bluetooth\"><arg name=\"Serial ID\"></arg><arg name=\"Serial Device\"></arg><arg name=\"Serial Data\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"GqM[JVH!!B0Y95]ECU(%\"><field name=\"VAR\" id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"M0M)P]EcF+af[}kTF{(6\"><field name=\"TEXT\">TEMP</field></block></value><value name=\"ARG2\"><block type=\"plantbit2_dht_read\" id=\"~4X~a0mdsZ?Z1hB-,XCz\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"yc|/3NYIzPHIN/zEab7#\"><mutation name=\"Gửi data qua bluetooth\"><arg name=\"Serial ID\"></arg><arg name=\"Serial Device\"></arg><arg name=\"Serial Data\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"-vHH@4m9]p-8zTMrMO]B\"><field name=\"VAR\" id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"=bz}A@O1$`^=71KRdeSY\"><field name=\"TEXT\">AIRM</field></block></value><value name=\"ARG2\"><block type=\"plantbit2_dht_read\" id=\"ifJuKZMH@CN#G,u(5)Tl\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"4Ny~)_xQ-C(GN0%q4%Vp\"><mutation name=\"Gửi data qua bluetooth\"><arg name=\"Serial ID\"></arg><arg name=\"Serial Device\"></arg><arg name=\"Serial Data\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"3BBNKaNEh-oIc26yax[d\"><field name=\"VAR\" id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"A8d-!Wc+Er(-+rxp(9.z\"><field name=\"TEXT\">LIGHT</field></block></value><value name=\"ARG2\"><block type=\"aiot_light_sensor\" id=\"1LXD/}LsRZRQh8uMT6|5\"><field name=\"NAME\">pin1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"NMZ[h-NG)~e=J7aoan+I\"><mutation name=\"Gửi data qua bluetooth\"><arg name=\"Serial ID\"></arg><arg name=\"Serial Device\"></arg><arg name=\"Serial Data\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"hE((R|Cy4mm4)^BJ#);~\"><field name=\"VAR\" id=\"@!}3DXA1m6t7g.Huj6Zy\">NodeID</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"|V-^=FcRmiad(S[pQ7hZ\"><field name=\"TEXT\">SURFM</field></block></value><value name=\"ARG2\"><block type=\"aiot_soil_sensor\" id=\"b0ImY)9EU:3ZWjAhM!P=\"><field name=\"NAME\">pin2</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"a.%a+K_6W-Y-?6Au!oAx\" x=\"-538\" y=\"812\"><mutation><arg name=\"Serial ID\" varid=\"StogoKXu@i}Nx8^#|o)h\"></arg><arg name=\"Serial Device\" varid=\"W1;5yanhj8blrIQ4w_}?\"></arg><arg name=\"Serial Data\" varid=\"rIm.hK4MNlqr2C0gv=WQ\"></arg></mutation><field name=\"NAME\">Gửi data qua bluetooth</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"ble_send_string\" id=\"QM7G#HH_]55gr.b2ZHI+\"><value name=\"x\"><shadow type=\"text\" id=\"1h]!F|P38wL.)G{ss0Sb\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"@O]Gh:}C^+%.3u#RSDgB\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"m_VBdxnItEwWR$t{00b#\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"FJCbq5NWOX?@9Q6yow8n\"><field name=\"VAR\" id=\"StogoKXu@i}Nx8^#|o)h\">Serial ID</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"qex8iYze|[iU|2*A+MLe\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD3\"><block type=\"variables_get\" id=\"4D6U5;HhVv1r~)~#.t@W\"><field name=\"VAR\" id=\"W1;5yanhj8blrIQ4w_}?\">Serial Device</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"}tP*y?J{yhOFJ959FJhs\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD5\"><block type=\"variables_get\" id=\"BD%198n77Odjj4@7t$.J\"><field name=\"VAR\" id=\"rIm.hK4MNlqr2C0gv=WQ\">Serial Data</field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"snyK5+TTsWr^$hN.]|sN\"><field name=\"TEXT\">#</field></block></value></block></value></block></statement></block></xml>","python":"from ble import *\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom mqtt import *\nfrom event_manager import *\nimport time\nfrom aiot_lcd1602 import LCD1602\nfrom machine import Pin, SoftI2C\nfrom plantbit2_dht20 import DHT20\n\ndef on_ble_message_string_receive_callback(chu_E1_BB_97i):\n  global Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  cmd = chu_E1_BB_97i\n\nble.on_receive_msg(\"string\", on_ble_message_string_receive_callback)\n\nevent_manager.reset()\n\ndef on_event_timer_callback_Q_b_L_d_N():\n  global chu_E1_BB_97i, Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  if cmd == '1':\n    pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  elif cmd == '2':\n    pin14.write_analog(round(translate(70, 0, 100, 0, 1023)))\n  elif cmd == '3':\n    pin4.servo_write(90)\n  elif cmd == '4':\n    pin4.servo_write(10)\n\nevent_manager.add_timer_event(100, on_event_timer_callback_Q_b_L_d_N)\n\ndef on_event_timer_callback_j_L_o_J_X():\n  global chu_E1_BB_97i, Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  SurfaceMoist = round(translate((pin2.read_analog()), 0, 4095, 0, 100))\n  Light = round(translate((pin1.read_analog()), 0, 4095, 0, 100))\n  if SurfaceMoist < '50':\n    pin14.write_analog(round(translate(70, 0, 100, 0, 1023)))\n    time.sleep_ms(60000)\n    pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  if Light < '5':\n    pin4.servo_write(90)\n    time.sleep_ms(60000)\n    pin4.servo_write(0)\n\nevent_manager.add_timer_event(10000, on_event_timer_callback_j_L_o_J_X)\n\ndef on_ble_disconnected_callback():\n  global chu_E1_BB_97i, Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  display.show(Image(\"11111:10001:10001:10001:11111\"))\n  while not ble.is_connected():\n    ble.connect(Central_Node)\n  pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin4.servo_write(10)\n  display.show(Image(\"00000:04440:04440:04440:00000\"))\n\nble.on_disconnected(on_ble_disconnected_callback)\n\naiot_lcd1602 = LCD1602()\n\ndht20 = DHT20()\n\ndef on_event_timer_callback_r_L_K_c_X():\n  global chu_E1_BB_97i, Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr((''.join([str(x) for x in ['C', dht20.dht20_temperature(), 'A%', dht20.dht20_humidity(), 'S%', round(translate((pin2.read_analog()), 0, 4095, 0, 100)), 'L', round(translate((pin1.read_analog()), 0, 4095, 0, 100))]])))\n  G_E1_BB_ADi_data_qua_bluetooth(NodeID, 'TEMP', dht20.dht20_temperature())\n  G_E1_BB_ADi_data_qua_bluetooth(NodeID, 'AIRM', dht20.dht20_humidity())\n  G_E1_BB_ADi_data_qua_bluetooth(NodeID, 'LIGHT', round(translate((pin1.read_analog()), 0, 4095, 0, 100)))\n  G_E1_BB_ADi_data_qua_bluetooth(NodeID, 'SURFM', round(translate((pin2.read_analog()), 0, 4095, 0, 100)))\n\nevent_manager.add_timer_event(30000, on_event_timer_callback_r_L_K_c_X)\n\n# Mô tả hàm này...\ndef G_E1_BB_ADi_data_qua_bluetooth(Serial_ID, Serial_Device, Serial_Data):\n  global chu_E1_BB_97i, cmd, SurfaceMoist, Light, NodeID, Central_Node, aiot_lcd1602, dht20\n  ble.send((''.join([str(x2) for x2 in ['!', Serial_ID, ':', Serial_Device, ':', Serial_Data, '#']])))\n\ndef on_ble_message_string_receive_callback(chu_E1_BB_97i):\n  global Serial_ID, Serial_Device, Serial_Data, cmd, SurfaceMoist, Light, NodeID, Central_Node\n  cmd = chu_E1_BB_97i\n\nble.on_receive_msg(\"string\", on_ble_message_string_receive_callback)\n\nif True:\n  display.show(Image(\"33333:30003:30003:30003:33333\"))\n  mqtt.connect_wifi('ACLAB', 'ACLAB2023')\n  NodeID = 'A'\n  cmd = ''\n  Central_Node = 'ohstem-yolobit-50ac'\n  while not ble.is_connected():\n    ble.connect(Central_Node)\n  display.show(Image(\"00000:04440:04440:04440:00000\"))\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(1000)\n  time.sleep_ms(10)\n","name":"Subnode","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_plantbit_v2","src":"https://github.com/AITT-VN/yolobit_plantbit_v2","name":"PLANT:BIT V2","description":"Mục mở rộng dành cho bộ kit trồng cây thông minh Plant:Bit"}],"device":"yolobit"}